version: 1
script:
  - rm AppDir -rf || true
  - kcalc_deb_path=$(ls /var/cache/apt/archives/kcalc_*)
  - dpkg-deb -x $kcalc_deb_path AppDir
AppDir:
  path: ./AppDir
  app_info:
    id: org.kde.kcalc
    name: KCalc
    icon: accessories-calculator
    version: latest
    exec: usr/bin/kcalc
    exec_args: $@
  runtime:
    env:
      APPDIR_LIBRARY_PATH: $APPDIR/usr/lib/x86_64-linux-gnu:$APPDIR/lib/x86_64-linux-gnu
  files:
    include:
      - /etc/fonts/conf.d/*
      - /etc/xdg/ui/ui_standards.rc
      - /lib/x86_64-linux-gnu/libattr.so.1
      - /lib/x86_64-linux-gnu/libnss_compat.so.2
      - /lib/x86_64-linux-gnu/libnss_nis.so.2
      - /usr/lib/locale/locale-archive
      - /usr/lib/x86_64-linux-gnu/dri/i965_dri.so
      - /usr/lib/x86_64-linux-gnu/gconv/gconv-modules.cache
      - /usr/lib/x86_64-linux-gnu/libGL.so.1
      - /usr/lib/x86_64-linux-gnu/libGLX.so.0
      - /usr/lib/x86_64-linux-gnu/libGLX_mesa.so.0
      - /usr/lib/x86_64-linux-gnu/libGLdispatch.so.0
      - /usr/lib/x86_64-linux-gnu/libHalf.so.12
      - /usr/lib/x86_64-linux-gnu/libICE.so.6
      - /usr/lib/x86_64-linux-gnu/libIex-2_2.so.12
      - /usr/lib/x86_64-linux-gnu/libIlmImf-2_2.so.22
      - /usr/lib/x86_64-linux-gnu/libIlmThread-2_2.so.12
      - /usr/lib/x86_64-linux-gnu/libKF5Archive.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5Attica.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5AuthCore.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5Bookmarks.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5Codecs.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5Completion.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5ConfigCore.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5ConfigGui.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5ConfigWidgets.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5CoreAddons.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5Crash.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5DBusAddons.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5GlobalAccel.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5GuiAddons.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5I18n.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5IconThemes.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5ItemViews.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5JobWidgets.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5KIOCore.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5KIOFileWidgets.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5KIOGui.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5KIOWidgets.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5Notifications.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5Service.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5Solid.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5Style.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5WaylandClient.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5WidgetsAddons.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5WindowSystem.so.5
      - /usr/lib/x86_64-linux-gnu/libKF5XmlGui.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5Core.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5DBus.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5Network.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5PrintSupport.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5Qml.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5QmlModels.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5Quick.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5QuickControls2.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5QuickTemplates2.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5Svg.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5TextToSpeech.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5X11Extras.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5XcbQpa.so.5
      - /usr/lib/x86_64-linux-gnu/libQt5Xml.so.5
      - /usr/lib/x86_64-linux-gnu/libSM.so.6
      - /usr/lib/x86_64-linux-gnu/libX11-xcb.so.1
      - /usr/lib/x86_64-linux-gnu/libX11.so.6
      - /usr/lib/x86_64-linux-gnu/libXau.so.6
      - /usr/lib/x86_64-linux-gnu/libXcursor.so.1
      - /usr/lib/x86_64-linux-gnu/libXdamage.so.1
      - /usr/lib/x86_64-linux-gnu/libXdmcp.so.6
      - /usr/lib/x86_64-linux-gnu/libXext.so.6
      - /usr/lib/x86_64-linux-gnu/libXfixes.so.3
      - /usr/lib/x86_64-linux-gnu/libXrender.so.1
      - /usr/lib/x86_64-linux-gnu/libXxf86vm.so.1
      - /usr/lib/x86_64-linux-gnu/libbreezecommon5.so.5
      - /usr/lib/x86_64-linux-gnu/libcanberra.so.0
      - /usr/lib/x86_64-linux-gnu/libdbusmenu-qt5.so.2
      - /usr/lib/x86_64-linux-gnu/libdouble-conversion.so.1
      - /usr/lib/x86_64-linux-gnu/libdrm.so.2
      - /usr/lib/x86_64-linux-gnu/libdrm_intel.so.1
      - /usr/lib/x86_64-linux-gnu/libdrm_nouveau.so.2
      - /usr/lib/x86_64-linux-gnu/libdrm_radeon.so.1
      - /usr/lib/x86_64-linux-gnu/libfam.so.0
      - /usr/lib/x86_64-linux-gnu/libffi.so.6
      - /usr/lib/x86_64-linux-gnu/libfontconfig.so.1
      - /usr/lib/x86_64-linux-gnu/libfreetype.so.6
      - /usr/lib/x86_64-linux-gnu/libglapi.so.0
      - /usr/lib/x86_64-linux-gnu/libglib-2.0.so.0
      - /usr/lib/x86_64-linux-gnu/libgmp.so.10
      - /usr/lib/x86_64-linux-gnu/libgraphite2.so.3
      - /usr/lib/x86_64-linux-gnu/libharfbuzz.so.0
      - /usr/lib/x86_64-linux-gnu/libicudata.so.60
      - /usr/lib/x86_64-linux-gnu/libicui18n.so.60
      - /usr/lib/x86_64-linux-gnu/libicuuc.so.60
      - /usr/lib/x86_64-linux-gnu/libjbig.so.0
      - /usr/lib/x86_64-linux-gnu/libjpeg.so.8
      - /usr/lib/x86_64-linux-gnu/libkdeinit5_kcalc.so
      - /usr/lib/x86_64-linux-gnu/liblcms2.so.2
      - /usr/lib/x86_64-linux-gnu/libltdl.so.7
      - /usr/lib/x86_64-linux-gnu/liblz4.so.1
      - /usr/lib/x86_64-linux-gnu/libmng.so.2
      - /usr/lib/x86_64-linux-gnu/libmpfr.so.6
      - /usr/lib/x86_64-linux-gnu/libogg.so.0
      - /usr/lib/x86_64-linux-gnu/libpciaccess.so.0
      - /usr/lib/x86_64-linux-gnu/libpcre2-16.so.0
      - /usr/lib/x86_64-linux-gnu/libpng16.so.16
      - /usr/lib/x86_64-linux-gnu/libstdc++.so.6
      - /usr/lib/x86_64-linux-gnu/libtdb.so.1
      - /usr/lib/x86_64-linux-gnu/libtiff.so.5
      - /usr/lib/x86_64-linux-gnu/libvorbis.so.0
      - /usr/lib/x86_64-linux-gnu/libvorbisfile.so.3
      - /usr/lib/x86_64-linux-gnu/libwayland-client.so.0
      - /usr/lib/x86_64-linux-gnu/libwebp.so.6
      - /usr/lib/x86_64-linux-gnu/libwebpdemux.so.2
      - /usr/lib/x86_64-linux-gnu/libxcb-dri2.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-dri3.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-glx.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-icccm.so.4
      - /usr/lib/x86_64-linux-gnu/libxcb-image.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-keysyms.so.1
      - /usr/lib/x86_64-linux-gnu/libxcb-present.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-randr.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-render-util.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-render.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-res.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-shape.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-shm.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-sync.so.1
      - /usr/lib/x86_64-linux-gnu/libxcb-util.so.1
      - /usr/lib/x86_64-linux-gnu/libxcb-xfixes.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-xinerama.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-xinput.so.0
      - /usr/lib/x86_64-linux-gnu/libxcb-xkb.so.1
      - /usr/lib/x86_64-linux-gnu/libxcb.so.1
      - /usr/lib/x86_64-linux-gnu/libxkbcommon-x11.so.0
      - /usr/lib/x86_64-linux-gnu/libxkbcommon.so.0
      - /usr/lib/x86_64-linux-gnu/libxshmfence.so.1
      - /usr/lib/x86_64-linux-gnu/libzstd.so.1
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/iconengines/KIconEnginePlugin.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/iconengines/libqsvgicon.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_eps.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_exr.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_hdr.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_kra.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_ora.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_pcx.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_pic.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_psd.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_ras.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_rgb.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_tga.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/kimg_xcf.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/libqgif.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/libqicns.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/libqico.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/libqjpeg.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/libqmng.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/libqsvg.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/libqtga.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/libqtiff.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/libqwbmp.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/imageformats/libqwebp.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/kf5/org.kde.kwindowsystem.platforms/KF5WindowSystemKWaylandPlugin.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/kf5/org.kde.kwindowsystem.platforms/KF5WindowSystemKWinPrivatePlugin.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/kf5/org.kde.kwindowsystem.platforms/KF5WindowSystemWaylandPlugin.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/kf5/org.kde.kwindowsystem.platforms/KF5WindowSystemX11Plugin.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforminputcontexts/libcomposeplatforminputcontextplugin.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforminputcontexts/libibusplatforminputcontextplugin.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforminputcontexts/libqtvirtualkeyboardplugin.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/KWinQpaPlugin.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/libqeglfs.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/libqlinuxfb.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/libqminimal.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/libqminimalegl.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/libqoffscreen.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/libqvnc.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/libqwayland-egl.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/libqwayland-generic.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/libqwayland-xcomposite-egl.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/libqwayland-xcomposite-glx.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platforms/libqxcb.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platformthemes/KDEPlasmaPlatformTheme.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/platformthemes/libqgtk3.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/xcbglintegrations/libqxcb-egl-integration.so
      - /usr/lib/x86_64-linux-gnu/qt5/plugins/xcbglintegrations/libqxcb-glx-integration.so
      - /usr/share/X11/locale/en_US.UTF-8/XLC_LOCALE
      - /usr/share/X11/locale/locale.dir
      - /usr/share/drirc.d/00-mesa-defaults.conf
      - /usr/share/icons/breeze_cursors/cursors/left_ptr
      - /usr/share/kcalc/scienceconstants.xml
      - /usr/share/kxmlgui5/kcalc/kcalcui.rc
      - /usr/share/locale/en/LC_MESSAGES/kcoreaddons5_qt.qm
      - /usr/share/locale/en/LC_MESSAGES/kjobwidgets5_qt.qm
      - /usr/share/locale/en/LC_MESSAGES/kwidgetsaddons5_qt.qm
      - /usr/share/mime/generic-icons
      - /usr/share/plasma/look-and-feel/org.kde.breeze.desktop/contents/defaults
      - /usr/share/qt5/translations/qt_en.qm
    exclude:
      - usr/share/man
      - usr/share/doc/*/README.*
      - usr/share/doc/*/changelog.*
      - usr/share/doc/*/NEWS.*
      - usr/share/doc/*/TODO.*
  test:
    fedora:
      image: appimagecrafters/tests-env:fedora-30
      command: ./AppRun
      use_host_x: true
    debian:
      image: appimagecrafters/tests-env:debian-stable
      command: ./AppRun
      use_host_x: true
    arch:
      image: appimagecrafters/tests-env:archlinux-latest
      command: ./AppRun
      use_host_x: true
    centos:
      image: appimagecrafters/tests-env:centos-7
      command: ./AppRun
      use_host_x: true
    ubuntu:
      image: appimagecrafters/tests-env:ubuntu-xenial
      command: ./AppRun
      use_host_x: true
AppImage:
  arch: x86_64
  update-information: None
  sign-key: None
